<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create User</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h2 class="navbar-brand">Créer un nouvel utilisateur</h2>
        <form (ngSubmit)="createUser()" #userForm="ngForm" novalidate>
          <!-- Username -->
          <div class="form-group">
            <label for="username">Nom d'utilisateur</label>
            <input
              type="text"
              id="username"
              [(ngModel)]="newUser.username"
              name="username"
              class="form-control"
              required
              minlength="3"
              maxlength="20"
              #username="ngModel"
            />
            <div class="text-danger" *ngIf="username.invalid && (username.dirty || username.touched)">
              <small *ngIf="username.errors?.['required']">Le nom d'utilisateur est obligatoire.</small>
              <small *ngIf="username.errors?.['minlength']">Le nom d'utilisateur doit comporter au moins 3 caractères.</small>
              <small *ngIf="username.errors?.['maxlength']">Le nom d'utilisateur ne peut pas dépasser 20 caractères.</small>
            </div>
          </div>
      
          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              [(ngModel)]="newUser.email"
              name="email"
              class="form-control"
              required
              email
              #email="ngModel"
            />
            <div class="text-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
              <small *ngIf="email.errors?.['required']">L'email est obligatoire.</small>
              <small *ngIf="email.errors?.['email']">Veuillez entrer un email valide.</small>
            </div>
          </div>
      
          <!-- Password -->
          <div class="form-group">
            <label for="password">Mot de passe</label>
            <input
              type="password"
              id="password"
              [(ngModel)]="newUser.password"
              name="password"
              class="form-control"
              required
              minlength="8"
              maxlength="30"
              #password="ngModel"
            />
            <div class="text-danger" *ngIf="password.invalid && (password.dirty || password.touched)">
              <small *ngIf="password.errors?.['required']">Le mot de passe est obligatoire.</small>
              <small *ngIf="password.errors?.['minlength']">Le mot de passe doit comporter au moins 8 caractères.</small>
              <small *ngIf="password.errors?.['maxlength']">Le mot de passe ne peut pas dépasser 30 caractères.</small>
            </div>
          </div>
      <!-- Phone Number -->
<div class="form-group">
  <label for="phone">Numéro de téléphone</label>
  <input
      type="text"
      id="phone"
      [(ngModel)]="newUser.phone"
      name="phone"
      class="form-control"
      required
      minlength="8"
      maxlength="15"
      #phone="ngModel"
  />
  <div class="text-danger" *ngIf="phone.invalid && (phone.dirty || phone.touched)">
      <small *ngIf="phone.errors?.['required']">Le numéro de téléphone est obligatoire.</small>
      <small *ngIf="phone.errors?.['minlength']">Le numéro de téléphone doit comporter au moins 8 caractères.</small>
      <small *ngIf="phone.errors?.['maxlength']">Le numéro de téléphone ne peut pas dépasser 15 caractères.</small>
  </div>
</div>

          <!-- Address -->
          <div class="form-group">
            <label for="address">Adresse</label>
            <input
              type="text"
              id="address"
              [(ngModel)]="newUser.address"
              name="address"
              class="form-control"
              minlength="5"
              maxlength="50"
              #address="ngModel"
            />
            <div class="text-danger" *ngIf="address.invalid && (address.dirty || address.touched)">
              <small *ngIf="address.errors?.['minlength']">L'adresse doit comporter au moins 5 caractères.</small>
              <small *ngIf="address.errors?.['maxlength']">L'adresse ne peut pas dépasser 50 caractères.</small>
            </div>
          </div>
          <div class="text-center mt-4">
          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Créer un utilisateur</button>
          </div>
        </form>
      
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="alert alert-danger mt-3">
          {{ errorMessage }}
        </div>
      </div>
  
</body>
</html>
